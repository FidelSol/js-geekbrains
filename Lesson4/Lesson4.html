<html lang="en">
<head>
</head>
<body>
<script type="text/javascript">

    // 1.
   // Написать функцию, преобразующую число в объект. Передавая на вход число от 0 до 999,
    // мы должны получить на выходе объект, в котором в соответствующих свойствах описаны единицы,
    // десятки и сотни. Например, для числа 245 мы должны получить следующий объект:
    // {‘единицы’: 5, ‘десятки’: 4, ‘сотни’: 2}. Если число превышает 999,
    // необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.

    function ImageNumber(n) {

        this.image = function(n) {

            if( 0 < parseInt(n) && parseInt(n)< 1000) {
                this.hundreds = parseInt(n / 100);
                this.tens = parseInt((n - this.hundreds * 100) / 10);
                this.ones = parseInt(n - this.tens * 10 - this.hundreds * 100);
            } else {
              if(typeof(this.ones) != "undefined") {
                delete this.hundreds;
                delete this.tens;
                delete this.ones;
              }
            }

      }

       this.image(n);
  }

  var imageOne = new ImageNumber(255)
  console.log(imageOne)

  var imageTwo = new ImageNumber(400)
  console.log(imageTwo)



     // 2. Продолжить работу с интернет-магазином:

    function Busket() {

        this.busket = [];

        this.addProduct = function(object){

            console.log(`Вы добавили в корзину товар "${object.name}" по цене ${object.price}р. в количестве ${object.number} штук.`);

            (this.busket).forEach((element) => {

                    if (element.name === name && element.price === price) {
                        element.number += number;
                        return this.busket
                    }
                })

                this.busket.push(object);
                return this.busket
        }


        this.ShowMeBusket = function(){
            var total_count = 0;
            var average_price = 0;
            var all_price = 0;

            (this.busket).forEach((element) => {
              all_price += element.price * element.number;
              total_count += element.number;
              average_price += element.price;
              console.log(`Товар "${element.name}" по цене ${element.price}р. в количестве ${element.number} штук.`)

            });

            average_price = average_price / (this.busket).length;

        console.log(`Видов товаров всего: ${(this.busket).length}, товаров всего: ${total_count}, средняя цена товаров: ${average_price}р.`);
        console.log(`Стоимость корзины: ${all_price}р.`);
        }


    }

    function Product(name, price, number) {
        this.name = name;
        this.price = price;
        this.number = number;
    }

    var OurBusket = new Busket();

    var productOne = new Product('Тапки', 54, 4);
    var productTwo = new Product('Сапоги', 540, 4);
    var productThree = new Product('Шапка', 150, 40);
    var productFour = new Product('Полотенце', 350, 10);

    OurBusket.addProduct(productOne);
    OurBusket.addProduct(productTwo);
    OurBusket.addProduct(productThree);
    OurBusket.addProduct(productFour);

    OurBusket.ShowMeBusket();

</script>
</body>
</html>